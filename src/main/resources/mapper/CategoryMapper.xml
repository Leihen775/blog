<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="blog.home.dao.CategoryMapper">
  
  <insert id="addCategory" parameterType="blog.home.model.Category">
    insert into blog_category 
    <if test="id!=null">
      value(#{id},#{name},#{code})
    </if>
    <if test="id==null">
      (name,code) value(#{name},#{code})
    </if>
  </insert>
  
  <delete id="deleteCategory" parameterType="int">
    delete from blog_category where id=#{id}
  </delete>
  
  <delete id="deleteCategoryBatch" parameterType="java.util.List">
    delete from blog_category where
    <foreach collection="list" item="id"  separator="or">
      id=#{id}
    </foreach>
  </delete>
  
  <update id="updateCategory" parameterType="blog.home.model.Category">
    update blog_category
    <set>
      <if test="name!=null">name=#{name},</if>
      <if test="code!=null">code=#{code}</if>   
    </set>
    where id=#{id}
  </update>
  
  <select id="findAllCategoryCode" resultType="blog.home.model.Category">
    select * from blog_category order by Code ASC
  </select>
  
  <select id="findAllCategoryCodeDesc" resultType="blog.home.model.Category">
    select * from blog_category order by Code DESC
  </select>
  
  <select id="findAllCategoryName" resultType="blog.home.model.Category">
    select * from blog_category order by name ASC
  </select>
  
  <select id="findAllCategoryNameDesc" resultType="blog.home.model.Category">
    select * from blog_category order by name DESC
  </select>
  
  <select id="findCategoryById" parameterType="int" resultType="blog.home.model.Category">
    select * from blog_category where id=#{id}
  </select>
  
  <select id="findCategoryByName" parameterType="string" resultType="blog.home.model.Category">
    select * from blog_category where name like "%" #{name} "%"
  </select>
</mapper>